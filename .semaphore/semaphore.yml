# This will create following topology:
#   A - -  B - - C
#        /  \
#   D --       - - E
version: v1.0
name: Free topology pipeline
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804
blocks:
  - name: A
    dependencies: []
    task:
      jobs:
        - commands: [echo foo]
  - name: B
    dependencies: [A, D]
    task:
      jobs:
        - commands: [echo bar]
  - name: C
    dependencies: [B]
    task:
      jobs:
        - commands: [echo baz]
  - name: D
    dependencies: []
    task:
      jobs:
        - commands: [echo D]
  - name: E
    dependencies: [B]
    task:
      jobs:
        - commands: [echo E]
